(S (NP (NP (CD One)) (PP (IN of) (NP (NP (DT the) (JJ key) (NNS challenges)) (PP (IN of) (NP (ADJP (JJ deep) (NN learning) (VBN based)) (NN image) (NN retrieval)))))) (VP (VBZ remains) (PP (IN in) (S (VP (VBG aggregating) (NP (JJ convolutional) (NNS activations)) (PP (IN into) (NP (CD one) (ADJP (RB highly) (JJ representative)) (NN feature) (NN vector))))))) (. .))
(S (ADVP (RB Ideally)) (, ,) (NP (DT this) (NN descriptor)) (VP (MD should) (VP (VB encode) (NP (ADJP (JJ semantic) (, ,) (JJ spatial) (CC and) (JJ low) (NN level)) (NN information)))) (. .))
(S (SBAR (RB Even) (IN though) (S (NP (JJ off-the-shelf) (JJ pre-trained) (JJ neural) (NNS networks)) (VP (MD can) (ADVP (RB already)) (VP (VB produce) (NP (JJ good) (NNS representations)) (PP (IN in) (NP (NP (NN combination)) (PP (IN with) (NP (NN aggregation) (NNS methods))))))))) (, ,) (NP (NP (JJ appropriate) (JJ fine) (NN tuning)) (PP (IN for) (NP (NP (DT the) (NN task)) (PP (IN of) (NP (NN image) (NN retrieval)))))) (VP (VBZ has) (VP (VBN shown) (S (VP (TO to) (VP (ADVP (RB significantly)) (VB boost) (NP (JJ retrieval) (NN performance))))))) (. .))
(S (PP (IN In) (NP (DT this) (NN paper))) (, ,) (NP (PRP we)) (VP (VBP present) (NP (NP (DT a) (ADJP (JJ simple) (RB yet) (JJ effective)) (VBN supervised) (NN aggregation) (NN method)) (VP (VBN built) (PP (IN on) (NP (NP (NN top)) (PP (IN of) (NP (VBG existing) (JJ regional) (NN pooling) (NNS approaches)))))))) (. .))
(S (PP (IN In) (NP (NP (NN addition)) (PP (TO to) (NP (NP (DT the) (JJ maximum) (NN activation)) (PP (IN of) (NP (DT a) (VBN given) (NN region))))))) (, ,) (NP (PRP we)) (VP (VBP calculate) (NP (NP (JJ regional) (JJ average) (NNS activations)) (PP (IN of) (NP (JJ extracted) (NN feature) (NNS maps))))) (. .))
(S (ADVP (RB Subsequently)) (, ,) (NP (NP (NNS weights)) (PP (IN for) (NP (NP (DT each)) (PP (IN of) (NP (DT the) (JJ pooled) (NN feature) (NNS vectors)))))) (VP (VBP are) (VP (VBN learned) (S (VP (TO to) (VP (VB perform) (NP (NP (DT a) (JJ weighted) (NN aggregation)) (PP (TO to) (NP (DT a) (JJ single) (NN feature) (NN vector))))))))) (. .))
(S (ADVP (RB Furthermore)) (, ,) (NP (PRP we)) (VP (VBP apply) (NP (NP (PRP$ our) (ADJP (RB newly) (VBN proposed)) (NNP NRA) (NN loss) (NN function)) (PP (IN for) (NP (JJ deep) (JJ metric) (VBG learning)))) (S (VP (VP (TO to) (VP (ADVP (VB fine)) (IN tune) (NP (DT the) (NN backbone) (JJ neural) (NN network)))) (CC and) (VP (TO to) (VP (VB learn) (NP (DT the) (NN aggregation) (NNS weights))))))) (. .))
(S (NP (PRP$ Our) (NN method)) (VP (VBZ achieves) (NP (NP (NP (JJ state-of-the-art) (NNS results)) (PP (IN for) (NP (DT the) (NNP INRIA) (NNP Holidays) (NN data) (NN set)))) (CC and) (NP (NP (JJ competitive) (NNS results)) (PP (IN for) (NP (DT the) (NNP Oxford) (NNP Buildings) (CC and) (NNP Paris) (NNS data) (NNS sets))))) (SBAR (IN while) (S (VP (VBG reducing) (NP (DT the) (NN training) (NN time)) (ADVP (RB significantly)))))) (. .))
