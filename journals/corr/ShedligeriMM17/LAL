(S (S (VP (VBG Inserting) (NP (DT a) (JJ patterned) (NN occluder)) (PP (IN at) (NP (NP (DT the) (NN aperture)) (PP (IN of) (NP (DT a) (NN camera) (NN lens))))))) (VP (VBZ has) (VP (VBN been) (VP (VBN shown) (S (VP (TO to) (VP (VB improve) (NP (NP (DT the) (NN recovery)) (PP (IN of) (NP (NP (NN depth) (NN map)) (CC and) (NP (JJ all-focus) (NN image))))) (PP (VBN compared) (PP (TO to) (NP (DT a) (ADJP (RB fully) (JJ open)) (NN aperture)))))))))) (. .))
(S (ADVP (RB However)) (, ,) (NP (NP (NN design)) (PP (IN of) (NP (DT the) (NN aperture) (NN pattern)))) (VP (VBZ plays) (NP (DT a) (ADJP (RB very) (JJ critical)) (NN role))) (. .))
(S (NP (NP (JJ Previous) (NNS approaches)) (PP (IN for) (S (VP (VBG designing) (NP (NN aperture) (NNS codes)))))) (VP (VBP make) (NP (NP (JJ simple) (NNS assumptions)) (PP (IN on) (NP (NN image) (NNS distributions)))) (S (VP (TO to) (VP (VB obtain) (NP (NP (NNS metrics)) (PP (IN for) (S (VP (VBG evaluating) (NP (NN aperture) (NNS codes)))))))))) (. .))
(S (ADVP (RB However)) (, ,) (S (NP (JJ real) (NNS images)) (VP (MD may) (RB not) (VP (VB follow) (NP (DT those) (NNS assumptions))))) (CC and) (S (ADVP (RB hence)) (NP (DT the) (VBN designed) (NN code)) (VP (MD may) (RB not) (VP (VB be) (ADJP (JJ optimal)) (PP (IN for) (NP (PRP them)))))) (. .))
(S (S (VP (TO To) (VP (VB address) (NP (DT this) (NN drawback))))) (NP (PRP we)) (VP (VBP propose) (NP (NP (DT a) (ADJP (NN data) (NN driven)) (NN approach)) (PP (IN for) (S (VP (VBG learning) (NP (DT the) (JJ optimal) (NN aperture) (NN pattern)) (S (VP (TO to) (VP (VB recover) (NP (JJ depth) (NN map)) (PP (IN from) (NP (DT a) (JJ single) (JJ coded) (NN image))))))))))) (. .))
(S (NP (PRP We)) (VP (VBP propose) (NP (NP (DT a) (ADJP (CD two) (NN stage)) (NN architecture)) (SBAR (WHADVP (WRB where)) (, ,) (S (S (PP (IN in) (NP (DT the) (JJ first) (NN stage))) (NP (PRP we)) (VP (VBP simulate) (NP (JJ coded) (NN aperture) (NNS images)) (PP (IN from) (NP (NP (DT a) (NN training) (NN dataset)) (PP (IN of) (NP (NP (JJ all-focus) (NNS images)) (CC and) (NP (NN depth) (NNS maps)))))))) (CC and) (S (PP (IN in) (NP (DT the) (JJ second) (NN stage))) (NP (PRP we)) (VP (VBP recover) (NP (DT the) (NN depth) (NN map)) (S (VP (VBG using) (NP (DT a) (JJ deep) (JJ neural) (NN network)))))))))) (. .))
(S (NP (PRP We)) (VP (VBP demonstrate) (SBAR (IN that) (S (NP (PRP$ our) (JJ learned) (NN aperture) (NN code)) (VP (NNS performs) (ADVP (ADVP (RBR better)) (PP (IN than) (NP (ADJP (RB previously) (VBN designed)) (NNS codes)))) (PP (ADVP (RB even)) (IN on) (NP (NP (NN code) (NN design) (NNS metrics)) (VP (VBN proposed) (PP (IN by) (NP (JJ previous) (NNS approaches)))))))))) (. .))
