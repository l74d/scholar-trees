(S (S (VP (VBG Storing) (CC and) (VBG processing) (NP (JJ massive) (JJ small) (NNS files)))) (VP (VBZ is) (NP (NP (CD one)) (PP (IN of) (NP (NP (DT the) (JJ major) (NNS challenges)) (PP (IN for) (NP (NP (DT the) (NNP Hadoop) (NNP Distributed) (NNP File) (NNP System)) (PRN (-LRB- -LRB-) (NP (NNP HDFS)) (-RRB- -RRB-)))))))) (. .))
(S (SBAR (IN In) (NN order) (S (VP (TO to) (VP (VB provide) (NP (RB fast) (JJ data) (NN access)))))) (, ,) (NP (NP (DT the) (NNP NameNode)) (PRN (-LRB- -LRB-) (NP (NNP NN)) (-RRB- -RRB-)) (PP (IN in) (NP (NNP HDFS)))) (VP (VBZ maintains) (NP (NP (DT the) (NN metadata)) (PP (IN of) (NP (NP (DT all) (NNS files)) (PP (IN in) (NP (PRP$ its) (NN main-memory))))))) (. .))
(S (NP (NN Hadoop)) (VP (NNS performs) (ADVP (RB well)) (PP (IN with) (NP (NP (DT a) (JJ small) (NN number)) (PP (IN of) (NP (NP (JJ large) (NNS files)) (SBAR (WHNP (WDT that)) (S (VP (VBP require) (NP (NP (ADJP (RB relatively) (JJ little)) (NNS metadata)) (PP (IN in) (NP (NP (DT the) (NNP NN) (JJ s)) (NN memory)))))))))))) (. .))
(S (CC But) (PP (IN for) (NP (NP (DT a) (JJ large) (NN number)) (PP (IN of) (NP (JJ small) (NNS files))))) (, ,) (NP (NNP Hadoop)) (VP (VBZ has) (NP (NP (NNS problems)) (PP (JJ such) (IN as) (NP (NP (NNP NN) (NN memory) (NN overload)) (VP (VBN caused) (PP (IN by) (NP (NP (DT the) (JJ huge) (NN metadata) (NN size)) (PP (IN of) (NP (DT these) (JJ small) (NNS files)))))))))) (. .))
(S (NP (PRP We)) (VP (VBP present) (NP (NP (NP (DT a) (JJ new) (NN type)) (PP (IN of) (NP (JJ archive) (NN file)))) (, ,) (NP (NP (NNP Hadoop) (NNP Perfect) (NNP File)) (PRN (-LRB- -LRB-) (NP (NNP HPF)) (-RRB- -RRB-))) (, ,) (SBAR (S (VP (TO to) (VP (VB solve) (NP (NP (NNP HDFS) (VB s)) (JJ small) (NNS files) (NN problem)) (PP (IN by) (S (VP (VBG merging) (NP (JJ small) (NNS files)) (PP (IN into) (NP (NP (DT a) (JJ large) (NN file)) (PP (IN on) (NP (NNP HDFS)))))))))))))) (. .))
(S (NP (VBG Existing) (JJ archive) (NNS files)) (VP (VP (VBP offer) (NP (JJ limited) (NN functionality))) (CC and) (VP (VBP have) (NP (JJ poor) (NN performance)) (SBAR (WHADVP (WRB when)) (S (VP (VBG accessing) (NP (NP (DT a) (NN file)) (PP (IN in) (NP (DT the) (VBN merged) (NN file)))))))) (PP (JJ due) (TO to) (NP (DT the) (NN fact) (SBAR (IN that) (S (PP (IN during) (NP (NNS metadata) (VBP lookup))) (NP (NP (PRP it))) (VP (VBZ is) (ADJP (JJ necessary)) (S (VP (TO to) (VP (VB read) (CC and) (VB process) (NP (DT the) (JJ entire) (NN index) (NN file) (PRN (-LRB- -LRB-) (NN s) (-RRB- -RRB-)))))))))))) (. .))
(S (PP (IN In) (NP (NN contrast))) (, ,) (NP (NNP HPF) (NN file)) (VP (MD can) (VP (ADVP (RB directly)) (NN access) (NP (NP (DT the) (NN metadata)) (PP (IN of) (NP (DT a) (JJ particular) (NN file)))) (PP (IN from) (NP (PRP$ its) (NN index) (NN file))) (PP (IN without) (S (VP (VBG having) (S (VP (TO to) (VP (VB process) (NP (PRP it)) (ADVP (RB entirely)))))))))) (. .))
(S (S (NP (DT The) (NNP HPF) (NN index) (NN system)) (VP (VBZ uses) (NP (CD two) (JJ hash) (NNS functions)))) (: :) (S (S (NP (NP (NN file) (NN s)) (NNS metadata)) (VP (VBP are) (VP (VBN distributed) (PP (IN through) (NP (NN index) (NNS files))) (PP (IN by) (S (VP (VBG using) (NP (DT a) (JJ dynamic) (NN hash) (NN function)))))))) (CC and) (, ,) (S (PP (IN for) (NP (DT each) (NN index) (NN file))) (, ,) (NP (PRP we)) (VP (VBP build) (NP (NP (DT an) (ADJP (NN order) (VBG preserving)) (JJ perfect) (NN hash) (NN function)) (SBAR (WHNP (WDT that)) (S (VP (VBZ preserves) (NP (NP (DT the) (NN position)) (PP (IN of) (NP (NP (DT each) (NN file) (NN s)) (NN metadata))) (PP (IN in) (NP (DT the) (NN index) (NN file))))))))))) (. .))
(S (NP (DT The) (NNP HPF) (NN design)) (VP (MD will) (ADVP (RB only)) (VP (VB read) (NP (NP (DT the) (NN part)) (PP (IN of) (NP (DT the) (NN index) (NN file))) (SBAR (WHNP (WDT that)) (S (VP (VBZ contains) (NP (NP (DT the) (NN metadata)) (PP (IN of) (NP (DT the) (JJ searched) (NN file)))))))) (PP (IN during) (NP (PRP$ its) (NN access))))) (. .))
(S (NP (NNP HPF) (NN file)) (ADVP (RB also)) (VP (VBZ supports) (NP (DT the) (NN file) (VBG appending) (NN functionality)) (PP (IN after) (NP (PRP$ its) (NN creation)))) (. .))
(S (NP (PRP$ Our) (NNS experiments)) (VP (VBP show) (SBAR (IN that) (S (NP (NNP HPF)) (VP (MD can) (VP (VB be) (NP (NP (ADJP (NP (QP (JJR more) (IN than) (CD 40)) (NN %)) (RBR faster)) (NN file) (JJ s) (NN access)) (PP (IN from) (NP (DT the) (JJ original) (NNP HDFS))))))))) (. .))
(S (SBAR (IN If) (S (NP (PRP we)) (VP (VBP don) (JJ t) (VP (VB consider) (NP (DT the) (NN caching) (NN effect)))))) (, ,) (NP (NP (NNP HPF) (VBP s)) (JJ file) (NN access)) (VP (VBZ is) (ADJP (ADJP (ADJP (NP (QP (RB around) (CD 179)) (NN %)) (JJR faster)) (PP (IN than) (NP (NNP MapFile)))) (CC and) (ADJP (ADJP (NP (CD 11294) (NN %)) (JJR faster)) (PP (IN than) (NP (NNP HAR) (NN file)))))) (. .))
(S (SBAR (IN If) (S (NP (PRP we)) (VP (VBP consider) (NP (VBG caching) (NN effect))))) (, ,) (NP (NNP HPF)) (VP (VBZ is) (ADJP (ADJP (ADJP (NP (QP (RB around) (CD 35)) (NN %)) (JJR faster)) (PP (IN than) (NP (NNP MapFile)))) (CC and) (ADJP (ADJP (NP (CD 105) (NN %)) (JJR faster)) (PP (IN than) (NP (NNP HAR) (NN file)))))) (. .))
