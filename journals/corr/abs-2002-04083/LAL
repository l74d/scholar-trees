(S (S (VP (VBG Identifying) (SBAR (SBAR (WHADVP (WRB when)) (S (VP (TO to) (VP (VB give) (NP (NNS treatments)) (PP (TO to) (NP (NNS patients))))))) (CC and) (SBAR (WHADVP (WRB how)) (S (VP (TO to) (VP (VB select) (PP (IN among) (NP (JJ multiple) (NNS treatments))) (PP (IN over) (NP (NN time)))))))))) (VP (VBP are) (NP (NP (JJ important) (JJ medical) (NNS problems)) (PP (IN with) (NP (DT a) (JJ few) (JJ existing) (NNS solutions))))) (. .))
(S (PP (IN In) (NP (DT this) (NN paper))) (, ,) (NP (PRP we)) (VP (VBP introduce) (NP (NP (DT the) (NNP Counterfactual) (NNP Recurrent) (NNP Network)) (PRN (-LRB- -LRB-) (NP (NNP CRN)) (-RRB- -RRB-)) (, ,) (NP (NP (DT a) (JJ novel) (NN sequence-to-sequence) (NN model)) (SBAR (WHNP (WDT that)) (S (VP (VBZ leverages) (NP (DT the) (ADJP (RB increasingly) (JJ available)) (JJ patient) (JJ observational) (NNS data)) (S (VP (TO to) (VP (VP (VB estimate) (NP (NN treatment) (NNS effects)) (PP (IN over) (NP (NN time)))) (CC and) (VP (VB answer) (NP (JJ such) (JJ medical) (NNS questions)))))))))))) (. .))
(S (S (VP (TO To) (VP (VB handle) (NP (NP (DT the) (NN bias)) (PP (IN from) (NP (NP (JJ time-varying) (NNS confounders)) (, ,) (NP (NP (NNS covariates)) (VP (VBG affecting) (NP (DT the) (NN treatment) (NN assignment) (NN policy)) (PP (IN in) (NP (DT the) (JJ observational) (NNS data))))))))))) (, ,) (NP (NNP CRN)) (VP (VBZ uses) (NP (VBP domain) (JJ adversarial) (NN training)) (S (VP (TO to) (VP (VB build) (NP (NP (VBG balancing) (NNS representations)) (PP (IN of) (NP (DT the) (JJ patient) (NN history)))))))) (. .))
(S (PP (IN At) (NP (DT each) (NN timestep))) (, ,) (NP (NNP CRN)) (VP (VBZ constructs) (NP (NP (DT a) (NN treatment) (NN invariant) (NN representation)) (SBAR (WHNP (WDT which)) (S (VP (VP (VBZ removes) (NP (NP (DT the) (NN association)) (PP (IN between) (NP (NP (JJ patient) (NN history)) (CC and) (NP (NN treatment) (NNS assignments)))))) (CC and) (VP (ADVP (RB thus)) (MD can) (VP (VB be) (VP (ADVP (RB reliably)) (VBN used) (PP (IN for) (S (VP (VBG making) (NP (JJ counterfactual) (NNS predictions))))))))))))) (. .))
(S (PP (IN On) (NP (NP (DT a) (JJ simulated) (NN model)) (PP (IN of) (NP (JJ tumour) (NN growth))) (, ,) (PP (IN with) (NP (NP (VBG varying) (NN degree)) (PP (IN of) (NP (JJ time-dependent) (NN confounding))))) (, ,))) (NP (PRP we)) (VP (VBP show) (SBAR (WHADVP (WRB how)) (S (NP (PRP$ our) (NN model)) (VP (VBZ achieves) (NP (NP (JJR lower) (NN error)) (PP (PP (IN in) (S (VP (VBG estimating) (NP (NNS counterfactuals))))) (CC and) (PP (IN in) (S (VP (VBG choosing) (NP (NP (DT the) (JJ correct) (NN treatment) (CC and) (NN timing)) (PP (IN of) (NP (NN treatment)))))))) (PP (IN than) (NP (JJ current) (JJ state-of-the-art) (NNS methods)))))))) (. .))
