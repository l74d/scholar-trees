(S (SBAR (IN While) (S (NP (JJ much) (NN progress)) (VP (VBZ has) (VP (VBN been) (VP (VBN made) (PP (IN in) (SBAR (WHADVP (WRB how)) (S (VP (TO to) (VP (VB encode) (NP (DT a) (NN text) (NN sequence)) (PP (IN into) (NP (NP (DT a) (NN sequence)) (PP (IN of) (NP (NNS vectors))))))))))))))) (, ,) (NP (JJR less) (NN attention)) (VP (VBZ has) (VP (VBN been) (VP (VBN paid) (PP (TO to) (SBAR (WHADVP (WRB how)) (S (VP (TO to) (VP (VB aggregate) (NP (NP (DT these) (VBG preceding) (NNS vectors)) (PRN (-LRB- -LRB-) (NP (NP (NNS outputs)) (PP (IN of) (NP (NNP RNN/CNN)))) (-RRB- -RRB-))) (PP (IN into) (NP (JJ fixed-size) (VBG encoding) (NN vector))))))))))) (. .))
(S (ADVP (RB Usually)) (, ,) (NP (DT a) (JJ simple) (NN max) (CC or) (JJ average) (NN pooling)) (VP (VBZ is) (VP (VBN used) (, ,) (SBAR (WHNP (WDT which)) (S (VP (VBZ is) (NP (NP (DT a) (ADJP (JJ bottom-up) (CC and) (JJ passive)) (NN way)) (PP (IN of) (NP (NP (NN aggregation)) (CC and) (NP (NP (NN lack)) (PP (IN of) (NP (NP (NN guidance)) (PP (IN by) (NP (NN task) (NN information)))))))))))))) (. .))
(S (PP (IN In) (NP (DT this) (NN paper))) (, ,) (NP (PRP we)) (VP (VBP propose) (NP (NP (DT an) (NN aggregation) (NN mechanism)) (SBAR (S (VP (TO to) (VP (VB obtain) (NP (NP (DT a) (JJ fixed-size) (NN encoding)) (PP (IN with) (NP (DT a) (JJ dynamic) (NN routing) (NN policy)))))))))) (. .))
(S (NP (DT The) (JJ dynamic) (NN routing) (NN policy)) (VP (VBZ is) (VP (ADVP (RB dynamically)) (VBG deciding) (SBAR (IN that) (S (WHNP (WHADJP (WHNP (WP what)) (CC and) (WHADJP (WRB how) (JJ much))) (NN information)) (S (VP (NN need) (S (VP (VB be) (VP (VBN transferred) (PP (IN from) (NP (DT each) (NN word))) (PP (TO to) (NP (NP (DT the) (JJ final) (NN encoding)) (PP (IN of) (NP (DT the) (NN text) (NN sequence)))))))))))))) (. .))
(S (S (VP (VBG Following) (NP (NP (DT the) (NN work)) (PP (IN of) (NP (NNP Capsule) (NNP Network)))))) (, ,) (NP (PRP we)) (VP (VBP design) (NP (NP (CD two) (JJ dynamic) (VBG routing) (NNS policies)) (SBAR (S (VP (TO to) (VP (VB aggregate) (NP (NP (DT the) (NNS outputs)) (PP (IN of) (NP (NNP RNN/CNN) (VBG encoding) (NN layer)))) (PP (IN into) (NP (DT a) (JJ final) (NN encoding) (NN vector))))))))) (. .))
(S (PP (VBN Compared) (PP (TO to) (NP (DT the) (JJ other) (NN aggregation) (NNS methods)))) (, ,) (NP (JJ dynamic) (NN routing)) (VP (MD can) (VP (VB refine) (NP (DT the) (NNS messages)) (PP (VBG according) (PP (TO to) (NP (NP (DT the) (NN state)) (PP (IN of) (NP (JJ final) (NN encoding) (NN vector)))))))) (. .))
(S (NP (NP (JJ Experimental) (NNS results)) (PP (IN on) (NP (CD five) (JJ text) (NN classification) (NNS tasks)))) (VP (VBP show) (SBAR (IN that) (S (NP (PRP$ our) (NN method)) (VP (VBZ outperforms) (NP (JJ other) (VBG aggregating) (NNS models)) (PP (IN by) (NP (DT a) (JJ significant) (NN margin))))))) (. .))
(S (NP (VBN Related) (NN source) (NN code)) (VP (VBZ is) (VP (VBN released) (PP (IN on) (NP (PRP$ our) (NN github) (NN page))))) (. .))
