(S (NP (DT This) (NN paper)) (VP (VBZ considers) (NP (NP (DT the) (NN power) (NN allocation)) (PP (IN of) (NP (NP (DT a) (JJ single-link) (NN wireless) (NN communication)) (PP (IN with) (NP (JJ joint) (NX (NX (NN energy) (NN harvesting)) (CC and) (NX (JJ grid) (NN power) (NN supply))))))))) (. .))
(S (NP (PRP We)) (VP (VP (VBP formulate) (NP (DT the) (NN problem)) (PP (IN as) (S (VP (VBG minimizing) (NP (DT the) (JJ grid) (NN power) (NN consumption)) (PP (IN with) (NP (JJ random) (NN energy) (CC and) (NNS data) (NN arrival))))))) (, ,) (CC and) (VP (VBZ analyze) (NP (NP (DT the) (NN structure)) (PP (IN of) (NP (DT the) (JJ optimal) (NN power) (NN allocation) (NN policy)))) (PP (IN in) (NP (DT some) (JJ special) (NNS cases))))) (. .))
(S (S (PP (IN For) (NP (DT the) (NN case) (SBAR (WDT that) (S (NP (PDT all) (DT the) (NNS packets)) (VP (VBP are) (VP (VBN arrived) (PP (IN before) (NP (NN transmission))))))))) (, ,) (NP (PRP it)) (VP (VBZ is) (NP (NP (DT a) (JJ dual) (NN problem)) (PP (IN of) (NP (NN throughput) (NN maximization)))))) (, ,) (CC and) (S (NP (DT the) (JJ optimal) (NN solution)) (VP (VBZ is) (VP (VBN found) (PP (IN by) (NP (NP (DT the) (JJ two-stage) (NN water) (NN filling) (PRN (-LRB- -LRB-) (NNP WF) (-RRB- -RRB-)) (NN policy)) (, ,) (SBAR (WHNP (WDT which)) (S (VP (VP (VBZ allocates) (NP (DT the) (JJ harvested) (NN energy)) (PP (IN in) (NP (DT the) (JJ first) (NN stage)))) (, ,) (CC and) (VP (ADVP (RB then)) (VBZ allocates) (NP (DT the) (NN power) (NN grid) (NN energy)) (PP (IN in) (NP (DT the) (JJ second) (NN stage)))))))))))) (. .))
(S (PP (IN For) (NP (DT the) (NN random) (NNS data) (NN arrival) (NN case))) (, ,) (NP (PRP we)) (VP (VP (ADVP (RB first)) (VBP assume) (NP (NP (NP (JJ grid) (NN energy)) (CC or) (NP (VBN harvested) (NN energy) (NN supply))) (ADVP (RB only)))) (, ,) (CC and) (ADVP (RB then)) (VP (VB combine) (NP (DT the) (NNS results)) (S (VP (TO to) (VP (VB obtain) (NP (NP (DT the) (JJ optimal) (NN structure)) (PP (IN of) (NP (DT the) (NN coexisting) (NN system))))))))) (. .))
(S (ADVP (RB Specifically)) (, ,) (NP (DT the) (JJ reverse) (JJ multi-stage) (NNP WF) (NN policy)) (VP (VBZ is) (VP (VBN proposed) (S (VP (TO to) (VP (VB achieve) (NP (DT the) (JJ optimal) (NN power) (NN allocation)) (SBAR (WHADVP (WRB when)) (S (NP (DT the) (NN battery) (NN capacity)) (VP (VBZ is) (ADJP (JJ infinite)))))))))) (. .))
(S (ADVP (RB Finally)) (, ,) (NP (NP (DT some) (JJ heuristic) (NN online) (NNS schemes))) (VP (VBP are) (VP (VBN proposed) (, ,) (SBAR (WHPP (IN of) (WHNP (WDT which))) (S (NP (DT the) (NN performance)) (VP (VBZ is) (VP (VBN evaluated) (PP (IN by) (NP (JJ numerical) (NNS simulations))))))))) (. .))
