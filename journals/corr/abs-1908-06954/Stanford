(S (NP (NN Attention) (NNS mechanisms)) (VP (VBP are) (ADVP (RB widely)) (VP (VBN used) (PP (IN in) (NP (NP (JJ current) (NML (NN encoder) (HYPH /) (NN decoder)) (NNS frameworks)) (PP (IN of) (NP (NN image) (NN captioning))))) (, ,) (SBAR (WHADVP (WRB where)) (S (NP (NP (DT a) (JJ weighted) (NN average)) (PP (IN on) (NP (VBN encoded) (NNS vectors)))) (VP (VBZ is) (VP (VBN generated) (PP (IN at) (NP (DT each) (NN time) (NN step))) (S (VP (TO to) (VP (VB guide) (NP (DT the) (NN caption) (NN decoding) (NN process))))))))))) (. .))
(S (ADVP (RB However)) (, ,) (NP (DT the) (NN decoder)) (VP (VBZ has) (NP (NP (NP (NP (NP (JJ little) (NN idea)) (PP (IN of) (UCP (IN whether) (CC or) (WHADVP (WRB how))))) (ADJP (RB well) (DT the))) (VP (VBN attended) (SBAR (S (NP (NP (NN vector)) (CC and) (NP (DT the) (VBN given) (NN attention) (NN query))) (VP (VBP are) (ADJP (VBN related))))))) (, ,) (SBAR (WHNP (WDT which)) (S (VP (MD could) (VP (VB make) (S (NP (DT the) (NN decoder)) (VP (VB give) (VP (VBN misled) (NP (NNS results))))))))))) (. .))
(S (PP (IN In) (NP (DT this) (NN paper))) (, ,) (NP (PRP we)) (VP (VBP propose) (NP (NP (NP (DT an) (NN Attention)) (PP (IN on) (NP (NN Attention) (PRN (-LRB- -LRB-) (NP (NN AoA)) (-RRB- -RRB-)) (NN module)))) (, ,) (SBAR (WHNP (WDT which)) (S (VP (VBZ extends) (NP (DT the) (JJ conventional) (NN attention) (NNS mechanisms)) (S (VP (TO to) (VP (VB determine) (NP (NP (DT the) (NN relevance)) (PP (IN between) (NP (NN attention) (NNS results) (CC and) (NNS queries)))))))))))) (. .))
(S (NP (NNP AoA)) (ADVP (RB first)) (VP (VP (VBZ generates) (NP (NP (DT an) (NN information) (NN vector)) (CC and) (NP (DT an) (NN attention) (NN gate))) (S (VP (VBG using) (NP (NP (DT the) (NN attention) (NN result)) (CC and) (NP (DT the) (JJ current) (NN context)))))) (, ,) (VP (ADVP (RB then)) (VBZ adds) (NP (DT another) (NN attention)) (PP (IN by) (S (VP (VBG applying) (NP (NN element-wise) (NN multiplication)) (PP (IN to) (NP (PRP them))))))) (CC and) (VP (ADVP (RB finally)) (VBZ obtains) (NP (NP (DT the) (ADJP (VBN attended)) (NN information)) (, ,) (NP (DT the) (VBN expected) (JJ useful) (NN knowledge))))) (. .))
(S (NP (PRP We)) (VP (VBP apply) (NP (NN AoA)) (PP (IN to) (NP (CC both) (NP (DT the) (NN encoder)) (CC and) (NP (NP (DT the) (NN decoder)) (PP (IN of) (NP (PRP$ our) (NN image) (NN captioning) (NN model)))))) (, ,) (SBAR (WHNP (WDT which)) (S (NP (PRP we)) (VP (VBP name) (PP (IN as) (NP (NNP AoA) (NNP Network) (-LRB- -LRB-) (NNP AoANet) (-RRB- -RRB-))))))) (. .))
(S (NP (NNS Experiments)) (VP (VBP show) (SBAR (IN that) (S (NP (NNP AoANet)) (VP (VP (VBZ outperforms) (NP (DT all) (ADJP (RB previously) (VBN published)) (NNS methods))) (CC and) (VP (VBZ achieves) (NP (NP (DT a) (NML (NML (JJ new) (NN state)) (HYPH -) (PP (IN of) (HYPH -) (NP (DT the) (HYPH -) (NN art)))) (NN performance)) (PP (IN of) (NP (NP (CD 129.8) (NML (NN CIDEr) (HYPH -) (NN D)) (NN score)) (PP (IN on) (NP (NNP MS) (NNP COCO) (NNP Karpathy))) (ADVP (RB offline)) (NP (NML (NML (NN test) (NN split)) (CC and) (NML (QP (CD 129.6)) (NN CIDEr) (HYPH -) (NN D) (PRN (-LRB- -LRB-) (NP (NN C40)) (-RRB- -RRB-)))) (NN score))))) (PP (IN on) (NP (DT the) (JJ official) (JJ online) (NN testing) (NN server)))))))) (. .))
(S (NP (NN Code)) (VP (VBZ is) (ADJP (JJ available) (PP (IN at) (NP (NP (DT this)) (SBAR (S (VP (VBZ https) (NP (NN URL))))))))))
