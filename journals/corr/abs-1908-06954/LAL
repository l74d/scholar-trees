(S (NP (NNP Attention) (NNS mechanisms)) (VP (VBP are) (VP (ADVP (RB widely)) (VBN used) (PP (IN in) (NP (NP (JJ current) (NN encoder/decoder) (NNS frameworks)) (PP (IN of) (NP (NN image) (NN captioning))) (, ,) (SBAR (WHADVP (WRB where)) (S (NP (NP (DT a) (JJ weighted) (NN average)) (PP (IN on) (NP (JJ encoded) (NNS vectors)))) (VP (VBZ is) (VP (VBN generated) (PP (IN at) (NP (DT each) (NN time) (NN step))) (S (VP (TO to) (VP (VB guide) (NP (DT the) (NN caption) (VBG decoding) (NN process))))))))))))) (. .))
(S (ADVP (RB However)) (, ,) (NP (DT the) (NN decoder)) (VP (VBZ has) (NP (NP (NP (JJ little) (NN idea)) (PP (IN of) (SBAR (WHADVP (IN whether) (CC or) (WHADVP (WRB how) (RB well))) (S (NP (NP (DT the) (JJ attended) (NN vector)) (CC and) (NP (DT the) (VBN given) (NN attention) (NN query))) (VP (VBP are) (VP (VBN related))))))) (, ,) (SBAR (WHNP (WDT which)) (S (VP (MD could) (VP (VB make) (S (NP (DT the) (NN decoder)) (VP (NN give) (NP (VBD misled) (NNS results)))))))))) (. .))
(S (PP (IN In) (NP (DT this) (NN paper))) (, ,) (NP (PRP we)) (VP (VBP propose) (NP (NP (DT an) (NAC (NN Attention) (PP (IN on) (NP (NNP Attention)))) (PRN (-LRB- -LRB-) (NNP AoA) (-RRB- -RRB-)) (NN module)) (, ,) (SBAR (WHNP (WDT which)) (S (VP (VBZ extends) (NP (DT the) (JJ conventional) (NN attention) (NNS mechanisms)) (S (VP (TO to) (VP (VB determine) (NP (NP (DT the) (NN relevance)) (PP (IN between) (NP (NP (NN attention) (NNS results)) (CC and) (NP (NNS queries))))))))))))) (. .))
(S (NP (NNP AoA)) (VP (VP (ADVP (RB first)) (VBZ generates) (NP (NP (DT an) (NN information) (NN vector)) (CC and) (NP (DT an) (NN attention) (NN gate))) (S (VP (VBG using) (NP (NP (DT the) (NN attention) (NN result)) (CC and) (NP (DT the) (JJ current) (NN context)))))) (, ,) (VP (ADVP (RB then)) (VBZ adds) (NP (DT another) (NN attention)) (PP (IN by) (S (VP (VBG applying) (NP (JJ element-wise) (NN multiplication)) (PP (TO to) (NP (PRP them))))))) (CC and) (VP (ADVP (RB finally)) (VBZ obtains) (NP (NP (DT the) (JJ attended) (NN information)) (, ,) (NP (DT the) (VBN expected) (JJ useful) (NN knowledge))))) (. .))
(S (NP (PRP We)) (VP (VBP apply) (NP (NNP AoA)) (PP (TO to) (NP (NP (VB both) (NP (DT the) (NN encoder)) (CC and) (NP (DT the) (NN decoder))) (PP (IN of) (NP (NP (PRP$ our) (NN image) (VBG captioning) (NN model)) (, ,) (SBAR (WHNP (WDT which)) (S (NP (PRP we)) (VP (VBP name) (PP (IN as) (NP (NP (NNP AoA) (NNP Network)) (PRN (-LRB- -LRB-) (NP (NNP AoANet)) (-RRB- -RRB-)))))))))))) (. .))
(S (NP (NNS Experiments)) (VP (VBP show) (SBAR (IN that) (S (NP (NNP AoANet)) (VP (VP (VBZ outperforms) (NP (DT all) (ADJP (RB previously) (VBN published)) (NNS methods))) (CC and) (VP (VBZ achieves) (NP (NP (DT a) (JJ new) (JJ state-of-the-art) (NN performance)) (PP (IN of) (NP (NP (NP (CD 129.8) (JJ CIDEr-D) (NN score)) (PP (IN on) (NP (NNP MS) (NNP COCO) (NNP Karpathy) (JJ offline) (NN test) (NN split)))) (CC and) (NP (NP (CD 129.6) (NNP CIDEr-D) (PRN (-LRB- -LRB-) (NP (NNP C40)) (-RRB- -RRB-)) (NN score)) (PP (IN on) (NP (DT the) (JJ official) (NN online) (VBG testing) (NN server)))))))))))) (. .))
(S (NP (NNP Code)) (VP (VBZ is) (ADJP (JJ available)) (PP (IN at) (NP (DT this) (NN https) (NNP URL)))))
