(S (NP (PRP We)) (VP (VBP present) (NP (NP (DT a) (NN method)) (PP (IN for) (S (VP (VBG training) (NP (JJ CNN-based) (JJ object) (NN class) (NNS detectors)) (ADVP (RB directly)) (S (VP (VBG using) (NP (NP (JJ mean) (JJ average) (NN precision)) (PRN (-LRB- -LRB-) (NP (NN mAP)) (-RRB- -RRB-))) (PP (IN as) (NP (DT the) (NN training) (NN loss))))) (, ,) (PP (IN in) (NP (NP (DT a) (ADJP (RB truly) (JJ end-to-end)) (NN fashion)) (SBAR (WHNP (WDT that)) (S (VP (VBZ includes) (NP (NP (JJ non-maximum) (NN suppression)) (PRN (-LRB- -LRB-) (NP (NNP NMS)) (-RRB- -RRB-)) (PP (IN at) (NP (NN training) (NN time)))))))))))))) (. .))
(S (NP (DT This)) (VP (VBZ contrasts) (PP (IN with) (NP (NP (DT the) (JJ traditional) (NN approach)) (PP (IN of) (S (VP (VP (VBG training) (NP (DT a) (NNP CNN)) (PP (IN for) (NP (DT a) (JJ window) (NN classification) (NN loss)))) (, ,) (RB then) (VP (VBG applying) (NP (NNP NMS)) (PP (ADVP (RB only)) (IN at) (NP (NP (NN test) (NN time)) (, ,) (SBAR (WHADVP (WRB when)) (S (NP (NN mAP)) (VP (VBZ is) (VP (VBN used) (PP (IN as) (NP (DT the) (NN evaluation) (JJ metric))) (PP (IN in) (NP (NP (NN place)) (PP (IN of) (NP (NN classification) (NN accuracy)))))))))))))))))) (. .))
(S (ADVP (RB However)) (, ,) (NP (NP (NN mAP)) (VP (VBG following) (NP (NNP NMS)))) (VP (VBZ forms) (NP (NP (DT a) (JJ piecewise-constant) (JJ structured) (NN loss)) (PP (IN over) (NP (NP (NNS thousands)) (PP (IN of) (NP (NNS windows))))) (, ,) (PP (IN with) (NP (NP (NNS gradients)) (SBAR (WHNP (WDT that)) (S (VP (VBP do) (RB not) (VP (VB convey) (NP (NP (JJ useful) (NN information)) (PP (IN for) (NP (NN gradient) (NN descent)))))))))))) (. .))
(S (ADVP (RB Hence)) (, ,) (NP (PRP we)) (VP (VBP define) (NP (NP (JJ new) (, ,) (JJ general) (NN gradient-like) (NNS quantities)) (PP (IN for) (NP (NN piecewise) (JJ constant) (NNS functions))) (, ,) (SBAR (WHNP (WDT which)) (S (VP (VBP have) (NP (JJ wide) (NN applicability))))))) (. .))
(S (NP (PRP We)) (VP (VBP describe) (SBAR (WHADVP (WRB how)) (S (VP (TO to) (VP (VB calculate) (NP (DT these)) (ADVP (RB efficiently)) (PP (IN for) (NP (NN mAP))) (PP (VBG following) (NP (NNP NMS))) (, ,) (S (VP (VBG enabling) (S (VP (TO to) (VP (VB train) (NP (NP (DT a) (NN detector)) (VP (VBN based) (PP (IN on) (NP (NNP Fast) (NNP R-CNN))))) (ADVP (RB directly)) (PP (IN for) (NP (NN mAP))))))))))))) (. .))
(S (NP (DT This) (NN model)) (VP (VBZ achieves) (NP (NP (JJ equivalent) (NN performance)) (PP (TO to) (NP (DT the) (JJ standard) (NNP Fast) (NNP R-CNN))) (PP (IN on) (NP (DT the) (NNP PASCAL) (NNP VOC) (CD 2007) (CC and) (CD 2012) (NNS datasets)))) (, ,) (SBAR (IN while) (S (VP (VBG being) (ADJP (RB conceptually) (RBR more) (JJ appealing)) (SBAR (IN as) (S (NP (DT the) (ADJP (RB very) (JJ same)) (NN model) (CC and) (NN loss)) (VP (VBP are) (VP (VBN used) (PP (IN at) (NP (DT both) (NN training) (CC and) (NN test) (NN time))))))))))) (. .))
