(S (PP (IN As) (NP (NNP Lightning))) (NP (NN network) (NNS payments)) (VP (VBP are) (VP (CC neither) (VP (VBN broadcasted)) (CC nor) (ADVP (RB publicly)) (VP (VBN stored)))) (. .))
(S (ADVP (RB Thus)) (NP (NNP LN)) (VP (VBZ has) (VP (VBN been) (VP (VBN seen) (PP (CONJP (RB not) (RB only)) (PP (IN as) (NP (NN scalability))) (CONJP (CC but) (RB also)) (PP (IN as) (NP (NP (NN privacy) (NN solution)) (PP (IN for) (NP (NNP Bitcoin))))))))) (. .))
(S (NP (DT The) (NN protocol)) (VP (VBZ guarantees) (SBAR (IN that) (S (NP (RB only) (DT the) (JJS latest) (NN channel) (NN state)) (VP (MD can) (VP (VB be) (VP (VBN confirmed) (PP (IN on) (NP (NN channel) (NN closure))))))))) (. .))
(FRAG (NP (NN LN) (NNS nodes) (NN gossip)) (PP (IN about) (NP (NNS channels))) (ADJP (JJ available) (PP (IN for) (NP (NP (NN routing)) (CC and) (NP (PRP$ their) (JJ total) (NNS capacities))))) (. .))
(S (S (VP (TO To) (VP (VB issue) (NP (DT a) (ADJP (-LRB- -LRB-) (JJ multi-hop) (-RRB- -RRB-)) (NN payment))))) (, ,) (NP (DT the) (NN sender)) (VP (VBZ creates) (NP (DT a) (NN route)) (PP (VBN based) (PP (IN on) (NP (NP (PRP$ its) (JJ local) (NN knowledge)) (PP (IN of) (NP (DT the) (NN graph))))))) (. .))
(S (SBAR (IN As) (S (NP (JJ local) (NN channel) (NNS balances)) (VP (VBP are) (RB not) (ADJP (JJ public))))) (, ,) (NP (NNS payments)) (ADVP (RB often)) (VP (VBP fail) (PP (IN due) (PP (IN to) (NP (JJ insufficient) (NN balance)))) (PP (IN at) (NP (DT an) (JJ intermediary) (NN hop)))) (. .))
(S (PP (IN In) (NP (DT that) (NN case))) (, ,) (NP (DT the) (NN payment)) (VP (VBZ is) (VP (VBN attempted) (PP (IN along) (NP (JJ multiple) (NNS routes))) (SBAR (IN until) (S (NP (PRP it)) (VP (VBZ succeeds)))))) (. .))
(S (S (NP (DT This)) (VP (VBZ constitutes) (NP (DT a) (NN privacy) (HYPH -) (NN efficiency) (NN tradeoff)))) (: :) (S (NP (JJ hidden) (NNS balances)) (VP (VP (VBP improve) (NP (NN privacy))) (CC but) (VP (VBP hinder) (S (VP (VBG routing) (NP (NN efficiency))))))) (. .))
(S (PP (IN In) (NP (DT this) (NN work))) (, ,) (NP (PRP we)) (VP (VBP show) (SBAR (IN that) (S (NP (DT an) (NN attacker)) (VP (MD can) (ADVP (RB easily)) (VP (VB discover) (NP (NN channel) (NNS balances)) (S (VP (VBG using) (NP (NN probing))))))))) (. .))
(S (NP (DT This)) (VP (VP (VBZ takes) (PP (IN under) (NP (NP (DT a) (NN minute)) (PP (IN per) (NP (NN channel)))))) (CC and) (VP (VBZ requires) (NP (NP (JJ moderate) (NN capital) (NN commitment)) (CC and) (NP (DT no) (NNS expenditures))))) (. .))
(S (NP (PRP We)) (VP (VBP describe) (NP (NP (DT the) (NN algorithm) (CC and) (NN test)) (NP (NP (PRP$ our) (NML (NP (NN proof)) (HYPH -) (PP (IN of) (HYPH -) (NP (NN concept)))) (NN implementation)) (PP (IN on) (NP (NP (NNP Bitcoin) (POS 's)) (NN testnet)))))) (. .))
(S (S (NP (PRP We)) (VP (VBP argue) (SBAR (IN that) (S (NP (NP (NP (NNP LN) (POS 's)) (NN balance)) (PP (IN between) (NP (NP (NN privacy)) (CC and) (S (VP (VBG routing) (NP (NN efficiency))))))) (VP (VBZ is) (ADJP (JJ suboptimal))))))) (: :) (S (NP (NN channel) (NNS balances)) (VP (VBP are) (RB neither) (ADVP (RB well)) (VP (VP (VBN protected)) (CC nor) (VP (VBN utilized))))) (. .))
(S (NP (PRP We)) (VP (VBP outline) (NP (NP (CD two) (NNS ways)) (PP (IN for) (NP (NN LN)))) (S (VP (TO to) (VP (VB evolve) (PP (IN in) (NP (NN respect))) (PP (IN to) (NP (DT this) (NN issue))))))) (. .))
(S (S (VP (TO To) (VP (VB emphasize) (NP (NN privacy))))) (, ,) (NP (PRP we)) (VP (VBP propose) (NP (NP (DT a) (NN modification)) (PP (IN of) (NP (NP (NN error) (NN handling)) (SBAR (WHNP (WDT that)) (S (VP (VBZ hides) (NP (NP (NNS details)) (PP (IN of) (NP (DT the) (NN erring) (NN channel)))) (PP (IN from) (NP (DT the) (NML (S (VP (VBG sending)))) (NN node)))))))))) (. .))
(S (NP (DT This)) (VP (MD would) (VP (VP (VB break) (NP (PRP$ our) (VBG probing) (NN technique))) (CC but) (VP (VB make) (S (NP (NN routing) (NNS failures)) (ADJP (RBR more) (JJ common)))) (, ,) (SBAR (IN as) (S (NP (DT the) (NN sender)) (VP (MD would) (RB not) (VP (VB know) (SBAR (WHNP (WDT which)) (S (NP (NP (NN channel)) (PP (IN from) (NP (DT the) (VBN attempted) (NN route)))) (VP (VBZ has) (VP (VBN failed))))))))))) (. .))
(S (S (VP (TO To) (VP (VB improve) (NP (NN efficiency))))) (, ,) (NP (PRP we)) (VP (VBP propose) (NP (NP (DT a) (JJ new) (NN API) (NN call)) (SBAR (WHNP (WDT that)) (S (VP (MD would) (VP (VB let) (NP (NP (DT the) (NN sender) (NN query) (NNS balances)) (PP (IN of) (NP (NNS channels)))) (SBAR (IN that) (S (NP (PRP it)) (VP (VBZ is) (RB not) (NP (NP (DT a) (NN party)) (PP (IN of)))))))))))) (. .))
(S (NP (PRP We)) (VP (VBP argue) (SBAR (IN that) (S (S (VP (VBG combining) (NP (DT these) (NNS approaches)))) (VP (MD can) (VP (VB help) (S (NP (NNP LN)) (VP (VP (VB take) (NP (NP (DT the) (JJS best)) (PP (IN of) (NP (DT both) (NNS worlds))))) (: :) (VP (VB hide) (NP (JJ private) (NNS data)) (SBAR (WHADVP (WRB when)) (FRAG (ADJP (JJ feasible))))) (, ,) (CC and) (VP (VB utilize) (NP (JJ public) (NNS data)) (PP (IN for) (NP (NP (JJR higher)) (VP (VBG routing) (NP (NN efficiency))))))))))))) (. .))
