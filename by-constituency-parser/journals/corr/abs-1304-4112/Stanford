(S (S (VP (VBG Recovering) (NP (NNS shadows)))) (VP (VBZ is) (NP (NP (DT an) (JJ important) (NN step)) (PP (IN for) (NP (JJ many) (NN vision) (NNS algorithms))))) (. .))
(S (NP (NP (JJ Current) (NNS approaches)) (SBAR (WHNP (WDT that)) (S (VP (VBP work) (PP (IN with) (NP (NML (NN time) (HYPH -) (NN lapse)) (NNS sequences))))))) (VP (VBP are) (VP (VBN limited) (PP (IN to) (NP (JJ simple) (NN thresholding) (NNS heuristics))))) (. .))
(S (NP (PRP We)) (VP (VBP show) (SBAR (S (NP (DT these) (NNS approaches)) (ADVP (RB only)) (VP (VP (VBP work) (PP (IN with) (NP (NP (ADJP (RB very) (JJ careful)) (NN tuning)) (PP (IN of) (NP (NNS parameters)))))) (, ,) (CC and) (VP (VBP do) (RB not) (VP (VB work) (ADVP (RB well) (PP (IN for) (NP (NML (JJ long) (HYPH -) (NN term)) (NN time) (HYPH -) (NN lapse)))) (NP (NP (NNS sequences)) (VP (VBN taken) (PP (IN over) (NP (NP (DT the) (NN span)) (PP (IN of) (NP (JJ many) (NNS months))))))))))))) (. .))
(S (NP (PRP We)) (VP (VBP introduce) (NP (NP (DT a) (ADJP (NP (NN parameter)) (HYPH -) (JJ free)) (NN expectation) (NN maximization) (NN approach)) (SBAR (WHNP (WDT which)) (S (ADVP (RB simultaneously)) (VP (VBZ estimates) (NP (NP (NNS shadows)) (, ,) (NP (NN albedo)) (, ,) (NP (NN surface) (NNS normals)) (, ,) (CC and) (NP (NN skylight)))))))) (. .))
(S (NP (DT This) (NN approach)) (VP (VP (VBZ is) (ADJP (ADJP (RBR more) (JJ accurate)) (PP (IN than) (NP (JJ previous) (NNS methods))))) (, ,) (VP (VBZ works) (PP (IN over) (NP (ADJP (DT both) (ADJP (RB very) (JJ short)) (CC and) (ADJP (RB very) (JJ long))) (NNS sequences)))) (, ,) (CC and) (VP (VBZ is) (ADJP (JJ robust) (PP (IN to) (NP (NP (DT the) (NNS effects)) (PP (IN of) (NP (JJ nonlinear) (NN camera) (NN response)))))))) (. .))
(S (ADVP (RB Finally)) (, ,) (NP (PRP we)) (VP (VBP demonstrate) (SBAR (IN that) (S (NP (NP (DT the) (NN shadow) (NNS masks)) (VP (VBN derived) (PP (IN through) (NP (DT this) (NN algorithm))))) (ADVP (RB substantially)) (VP (VB improve) (NP (NP (DT the) (NN performance)) (PP (IN of) (NP (ADJP (NN sun) (HYPH -) (VBN based)) (JJ photometric) (NML (NML (NN stereo)) (PP (VBN compared) (PP (IN to) (NP (JJR earlier) (NN shadow) (NN mask))))) (NN estimation)))))))) (. .))
