(S (NP (DT This) (NN paper)) (VP (VBZ adds) (NP (NNS counterfactuals)) (PP (IN to) (NP (NP (DT the) (NN framework)) (PP (IN of) (NP (NP (ADJP (NN knowledge) (HYPH -) (VBN based)) (NNS programs)) (PP (IN of) (NP (NNP Fagin) (, ,) (NNP Halpern) (, ,) (NNP Moses) (, ,) (CC and) (NNP Vardi)))))))) (. .))
(S (NP (NP (DT The) (NN use)) (PP (IN of) (NP (NNS counterfactuals)))) (VP (VBZ is) (VP (VBN illustrated) (PP (IN by) (S (VP (VBG designing) (NP (NP (DT a) (NN protocol)) (SBAR (WHPP (IN in) (WHNP (WDT which))) (S (NP (DT an) (NN agent)) (VP (VBZ stops) (S (VP (VBG sending) (NP (NNS messages)) (SBAR (IN once) (S (NP (PRP it)) (VP (VBZ knows) (SBAR (IN that) (S (NP (PRP it)) (VP (VBZ is) (ADJP (JJ safe) (S (VP (TO to) (VP (VB do) (ADVP (RB so))))))))))))))))))))))) (. .))
(S (NP (JJ Such) (NN behavior)) (VP (VBZ is) (ADJP (JJ difficult) (S (VP (TO to) (VP (VB capture) (PP (IN in) (NP (DT the) (JJ original) (NN framework))) (SBAR (IN because) (S (NP (PRP it)) (VP (VBZ involves) (NP (NN reasoning)) (PP (IN about) (NP (JJ counterfactual) (NNS executions))) (, ,) (PP (VBG including) (NP (NP (NNS ones)) (SBAR (WHNP (WDT that)) (S (VP (VBP are) (RB not) (ADJP (JJ consistent) (PP (IN with) (NP (DT the) (NN protocol))))))))))))))))) (. .))
(S (NP (NP (NNS Attempts)) (PP (IN to) (S (VP (VB formalize) (NP (DT these) (NNS notions)) (PP (IN without) (NP (NNS counterfactuals))))))) (VP (VBP are) (VP (VBN shown) (S (VP (TO to) (VP (VB lead) (PP (IN to) (NP (ADJP (RB rather) (JJ counterintuitive)) (NN behavior)))))))) (. .))
