(S (S (VP (VBG Querying) (NP (NP (DT the) (NN knowledge) (NN base)) (PRN (-LRB- -LRB-) (NP (NNP KB)) (-RRB- -RRB-))))) (VP (VBZ has) (ADVP (RB long)) (VP (VBN been) (NP (DT a) (NN challenge)) (PP (IN in) (NP (DT the) (JJ end-to-end) (JJ task-oriented) (NN dialogue) (NN system))))) (. .))
(S (NP (JJ Previous) (NN sequence-to-sequence) (PRN (-LRB- -LRB-) (NNP Seq2Seq) (-RRB- -RRB-)) (NN dialogue) (NN generation) (NN work)) (VP (VBZ treats) (NP (DT the) (NNP KB) (NN query)) (PP (IN as) (NP (NP (DT an) (NN attention)) (PP (IN over) (NP (DT the) (JJ entire) (NNP KB))))) (, ,) (PP (IN without) (NP (DT the) (NN guarantee) (SBAR (IN that) (S (NP (DT the) (JJ generated) (NNS entities)) (VP (VBP are) (ADJP (JJ consistent) (PP (IN with) (NP (DT each) (JJ other)))))))))) (. .))
(S (PP (IN In) (NP (DT this) (NN paper))) (, ,) (NP (PRP we)) (VP (VBP propose) (NP (NP (DT a) (NN novel) (NN framework)) (SBAR (WHNP (WDT which)) (S (VP (VBZ queries) (NP (DT the) (NNP KB)) (PP (IN in) (NP (CD two) (NNS steps))) (S (VP (TO to) (VP (VB improve) (NP (NP (DT the) (NN consistency)) (PP (IN of) (NP (JJ generated) (NNS entities)))))))))))) (. .))
(S (PP (IN In) (NP (DT the) (JJ first) (NN step))) (, ,) (S (VP (VBN inspired) (PP (IN by) (NP (DT the) (NN observation) (SBAR (IN that) (S (NP (DT a) (NN response)) (VP (MD can) (ADVP (RB usually)) (VP (VB be) (VP (VBN supported) (PP (IN by) (NP (DT a) (JJ single) (NNP KB) (NN row)))))))))))) (, ,) (NP (PRP we)) (VP (VBP introduce) (NP (NP (DT a) (NNP KB) (NN retrieval) (NN component)) (SBAR (WHNP (WDT which)) (S (VP (ADVP (RB explicitly)) (VBZ returns) (NP (NP (DT the) (ADJP (RBS most) (JJ relevant)) (NNP KB) (NN row)) (PP (VBN given) (NP (DT a) (NN dialogue) (NN history))))))))) (. .))
(S (NP (DT The) (NN retrieval) (NN result)) (VP (VBZ is) (ADVP (RBR further)) (VP (VBN used) (S (VP (TO to) (VP (VB filter) (NP (NP (DT the) (JJ irrelevant) (NNS entities)) (PP (IN in) (NP (DT a) (NNP Seq2Seq) (NN response) (NN generation) (NN model)))) (S (VP (TO to) (VP (VB improve) (NP (NP (DT the) (NN consistency)) (PP (IN among) (NP (DT the) (NN output) (NNS entities)))))))))))) (. .))
(S (PP (IN In) (NP (DT the) (JJ second) (NN step))) (, ,) (NP (PRP we)) (VP (ADVP (VBP further)) (VB perform) (NP (DT the) (NN attention) (NN mechanism)) (S (VP (TO to) (VP (VB address) (NP (DT the) (ADJP (RBS most) (JJ correlated)) (NNP KB) (NN column)))))) (. .))
(S (NP (NP (CD Two) (NNS methods))) (VP (VBP are) (VP (VBN proposed) (S (VP (TO to) (VP (VB make) (S (NP (DT the) (NN training)) (ADJP (JJ feasible)) (PP (IN without) (NP (JJ labeled) (NN retrieval) (NNS data))))))) (, ,) (SBAR (WHNP (WDT which)) (S (VP (VBP include) (NP (NP (JJ distant) (NN supervision)) (CC and) (NP (NNP Gumbel-Softmax) (NN technique)))))))) (. .))
(S (NP (NP (NNS Experiments)) (PP (IN on) (NP (CD two) (NP (INTJ (ADJP (RB publicly) (JJ available)) (NN task))) (VBN oriented) (JJ dialog) (NNS datasets)))) (VP (VBP show) (NP (NP (DT the) (NN effectiveness)) (PP (IN of) (NP (PRP$ our) (NN model)))) (PP (IN by) (S (VP (VP (VBG outperforming) (NP (DT the) (NN baseline) (NNS systems))) (CC and) (VP (VBG producing) (NP (JJ entity-consistent) (NNS responses))))))) (. .))
