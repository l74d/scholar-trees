(S (NP (PRP We)) (VP (VBP address) (NP (NP (DT the) (NN problem)) (PP (IN of) (S (VP (VBG decomposing) (NP (DT a) (JJ single) (NN image)) (PP (IN into) (NP (NN reflectance) (CC and) (NN shading)))))))) (. .))
(S (NP (DT The) (NN difficulty)) (VP (VBZ comes) (PP (IN from) (NP (DT the) (NN fact))) (SBAR (IN that) (S (NP (NP (DT the) (NNS components)) (PP (IN of) (NP (NP (NN image)) (, ---) (NP (DT the) (NN surface) (NN albedo)) (, ,) (NP (DT the) (JJ direct) (NN illumination)) (, ,) (CC and) (NP (DT the) (JJ ambient) (NN illumination))))) (, ---) (VP (VBP are) (VP (VBN coupled) (ADVP (RB heavily)) (PP (IN in) (NP (VBN observed) (NN image)))))))) (. .))
(S (NP (PRP We)) (VP (VBP propose) (PP (IN to) (NP (NML (S (VP (VBP infer) (NP (DT the) (NN shading)) (PP (IN by) (S (VP (VBG ordering) (NP (NNS pixels)) (PP (IN by) (NP (PRP$ their) (JJ relative) (NN brightness))) (, ,) (PP (IN without) (S (VP (VBG knowing) (NP (NP (DT the) (JJ absolute) (NNS values)) (PP (IN of) (NP (DT the) (NN image))))))))))))) (NNS components))) (ADVP (RB beforehand))) (. .))
(S (NP (DT The) (JJ pairwise) (NN shading) (NNS orders)) (VP (VBP are) (VP (VBN estimated) (PP (IN in) (NP (CD two) (NNS ways))) (: :) (NP (NP (NML (NML (NN brightness) (NN order)) (CC and) (NML (JJ low) (HYPH -) (NN order))) (NNS fittings)) (PP (IN of) (NP (JJ local) (JJ shading) (NN field)))))) (. .))
(S (NP (DT The) (NN brightness) (NN order)) (VP (VBZ is) (NP (NP (DT a) (JJ non-local) (NN measure)) (, ,) (SBAR (WHNP (WDT which)) (S (VP (MD can) (VP (VB be) (VP (VBN applied) (PP (IN to) (NP (NP (DT any) (NN pair)) (PP (IN of) (NP (NP (NNS pixels)) (PP (VBG including) (NP (NP (DT those)) (SBAR (WHNP (WP$ whose) (NP (NP (NN reflectance)) (CC and) (NP (NN shading)))) (S (VP (VBP are) (RB both) (ADJP (JJ different)))))))))))))))))) (. .))
(S (NP (DT The) (NML (JJ low) (HYPH -) (NN order)) (NNS fittings)) (VP (VBP are) (VP (VBN used) (PP (IN for) (NP (NN pixel) (NNS pairs))) (PP (IN within) (NP (NP (JJ local) (NNS regions)) (PP (IN of) (NP (JJ smooth) (NN shading))))))) (. .))
(S (ADVP (RB Together)) (, ,) (NP (PRP they)) (VP (MD can) (VP (VB capture) (NP (NP (DT both) (JJ global) (NN order) (NN structure)) (CC and) (NP (NP (JJ local) (NNS variations)) (PP (IN of) (NP (DT the) (NN shading))))))) (. .))
(S (NP (PRP We)) (VP (VBP propose) (NP (NP (DT a) (ADJP (NN Consistency) (HYPH -) (JJ aware)) (NNP Selective) (NNP Fusion)) (-LRB- -LRB-) (NP (NN CSF)) (-RRB- -RRB-)) (S (VP (TO to) (VP (VB integrate) (NP (DT the) (JJ pairwise) (NNS orders)) (PP (IN into) (NP (DT a) (ADJP (ADVP (RB globally)) (JJ consistent)) (NN order))))))) (. .))
(S (NP (DT The) (JJ iterative) (NN selection) (NN process)) (VP (VBZ solves) (NP (NP (DT the) (NNS conflicts)) (PP (IN between) (NP (NP (DT the) (JJ pairwise) (NNS orders)) (VP (VBN obtained) (PP (IN by) (NP (JJ different) (NN estimation) (NNS methods)))))))) (. .))
(S (NP (ADJP (JJ Inconsistent) (CC or) (JJ unreliable)) (JJ pairwise) (NNS orders)) (VP (MD will) (VP (VB be) (ADVP (RB automatically)) (VP (VBN excluded) (PP (IN from) (NP (DT the) (NN fusion))) (S (VP (TO to) (VP (VB avoid) (S (VP (VBG polluting) (NP (DT the) (JJ global) (NN order)))))))))) (. .))
(S (NP (NP (NNS Experiments)) (PP (IN on) (NP (DT the) (NNP MIT) (JJ Intrinsic) (NN Image) (NN dataset)))) (VP (VBP show) (SBAR (IN that) (S (NP (DT the) (VBN proposed) (NN model)) (VP (VBZ is) (ADJP (JJ effective) (PP (IN at) (S (VP (VBG recovering) (NP (NP (DT the) (NN shading)) (PP (VBG including) (NP (JJ deep) (NNS shadows)))))))))))) (. .))
(S (NP (PRP$ Our) (NN model)) (VP (ADVP (RB also)) (VBZ works) (ADVP (RB well)) (PP (IN on) (NP (JJ natural) (NNS images))) (PP (IN from) (NP (NP (DT the) (NN IIW) (NN dataset)) (, ,) (NP (DT the) (NML (NNP UIUC) (NNP Shadow)) (NN dataset)) (CC and) (NP (NP (DT the) (NNP NYU)) (HYPH -) (NP (NN Depth) (NN dataset))))) (, ,) (SBAR (WHADVP (WRB where)) (S (NP (NP (DT the) (NNS colors)) (PP (IN of) (NP (NP (JJ direct) (NNS lights)) (CC and) (NP (JJ ambient) (NNS lights))))) (VP (VBP are) (ADJP (RB quite) (JJ different)))))) (. .))
